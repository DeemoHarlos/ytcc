<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>YTCC</title>
	<link href="index.css" rel="stylesheet">
	<!--OG-->
	<meta property="og:image" content="">
	<meta property="og:type" content="website">
	<meta property="og:description" content="Holofans">
	<meta property="og:url" content="">
	<meta property="og:site_name" content="Holofans">
	<!--BOOTSTRAP-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
	<!--VUE-->
	<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
	<!--YOUTUBE-->
	<script src="https://www.youtube.com/iframe_api"></script>
</head>
<body class="bg-dark text-white">
	<div
		id="main"
		class="w-100 vh-100 d-flex flex-row position-relative"
	>
		<div id="video" class="d-flex flex-column">
			<div id="url" class="p-3">
				<form action="">
					<label for="video-id" class="pe-3">Video ID</label>
					<input id="video-id" type="text" name="v" v-model="videoIdInput" />
					<button>Refresh</button>
				</form>
			</div>
			<div id="iframe" class="position-relative flex-fill">
				<iframe
					v-if="videoId && videoId.length"
					width="100%"
					height="100%"
					:src="`https://www.youtube.com/embed/${videoId}?enablejsapi=1&disablekb=1&fs=0&modestbranding=1&mute=1`"
					frameborder="0"
				></iframe>
				<!-- <div id="iframe-cover" class="position-absolute"></div> -->
				<div id="subs" class="w-100 position-absolute text-center h3">
					<div
						v-for="sub in subtitles.filter(x=>x.active).reverse()"
					>
						{{ sub.text }}
					</div>
				</div>
			</div>
			<div id="timeline" class="position-relative" v-on:click="timelineClick">
				<div
					id="timeline-box"
					class="position-absolute"
					:style="{
						left: getTimelineLeft() * 100 + '%',
						width: timelineScale * 100 + '%'
					}"
				>
					<div id="timeline-subs">
						<div
							v-for="sub in subtitles"
							class="position-absolute timeline-sub"
							:style="{
								left: sub.startTime * 100 / videoLength + '%',
								right: 100 - sub.endTime * 100 / videoLength + '%'
							}"
						>
							<div v-if="isDragEnabled(sub)" class="drag drag-start position-absolute"></div>
							<div v-if="isDragEnabled(sub)" class="drag drag-end position-absolute"></div>
						</div>
					</div>
					<div
						id="cursor"
						class="position-absolute bg-danger"
						:style="{
							left: cursor * 100 / videoLength + '%',
							width: '.5px'
						}"
					>
					</div>
				</div>
			</div>
		</div>
		<div id="cc" class="p-2">
			<div
				v-for="sub in subtitles"
				class="p-2 d-flex flex-row"
				:class="{'bg-secondary': sub.active}"
			>
				<div class="time me-3" v-on:click="seek(sub.startTime)">
					<div class="start-time">
						{{ getHour(sub.startTime) }} :
						{{ getMin(sub.startTime) }} :
						{{ getSec(sub.startTime) }}
					</div>
					<div class="end-time">
						{{ getHour(sub.endTime) }} :
						{{ getMin(sub.endTime) }} :
						{{ getSec(sub.endTime) }}
					</div>
				</div>
				<textarea
					class="text p-0 bg-dark text-white flex-fill"
					placeholder="Enter Subtitles Here"
					v-model="sub.text"
				></textarea>
			</div>
			<button
				type="button"
				class="btn btn-dark w-100 text-center p-3"
				v-on:click="addSubtitle"
			>
				+
			</button>
		</div>
	</div>
	<script src="index.js" type="text/javascript"></script>
</body>
</html>
